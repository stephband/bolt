
<!DOCTYPE html>
<html lang="en">
<head>
    ${ include('../../templates/head.literal', '../../package.json') }

    <script title="debug">
        window.DEBUG = true;
    </script>
    
    <link rel="stylesheet" href="../../module.css">
    ${ include('../../templates/style.html') }

    <style></style>
    
    <template id="xy-input-shadow">
        <label>
            <slot></slot>
        </label>

        <svg viewbox="0 -1 1 1">
            <defs>
                <linearGradient id="handle-gradient" x1="0" x2="0" y1="0" y2="1">
                    <stop class="stop-1" offset="0%"/>
                    <stop class="stop-2" offset="100%"/>
                </linearGradient>

                <line part="x-line" x1="$\{ data.line.x * data.rangebox[2] }" x2="$\{ data.line.x * data.rangebox[2] }" y1="$\{ data.valuebox[1] * data.rangebox[3] }" y2="$\{ (data.valuebox[1] + data.valuebox[3]) * data.rangebox[3] }" id="x-line-def"></line>
                <line part="y-line" x1="$\{ data.valuebox[0] * data.rangebox[2] }" x2="$\{ data.valuebox[2] * data.rangebox[2] }" y1="$\{ data.line.y * data.rangebox[3] }" y2="$\{ data.line.y * data.rangebox[3] }" id="y-line-def"></line>
                <circle part="handle" class="control control-handle control-point" cx="$\{ data.point[0] * data.rangebox[2] }" cy="$\{ data.point[1] * data.rangebox[3] }" r="0.5" data-index="$\{ data.index }" id="control-def"></circle>
            </defs>

            $\{ data.yLines.map((line) => include(this.node.getRootNode().getElementById('y-line-def'), { rangebox: data.rangebox, valuebox: data.valuebox, line })) }
            $\{ data.xLines.map((line) => include(this.node.getRootNode().getElementById('x-line-def'), { rangebox: data.rangebox, valuebox: data.valuebox, line })) }
            $\{ data.values.map((point, index) => include(this.node.getRootNode().getElementById('control-def'), { rangebox: data.rangebox, point, index })) }
        </svg>
    </template>
</head>

<body class="docs-grid grid 3x-grid @1-6x-grid @2-9x-grid">
    <nav class="x1 x-stretch y1 @2-x1 @2-1x">
        <a class="thumb thumb-1:1" width="400" height="400" style="background-image: url('../../images/logo.svg'); background-size: contain; width: 120%; padding-top: 120%; max-width: 6rem; margin-top: -16%; margin-left: -8%; margin-right: -12%;">Bolt</a>
    </nav>

    ${ include('../../templates/element.literal', comments("./module.js", "./shadow.css")) }

    <script type="module" src="./module.js"></script>

    ${ include('../../templates/scripts.html') }
    
    <script type="module">
    // Log events
    import events from '../../../dom/modules/events.js';
    events('input change', document)
    .each((e) => console.log(e.type, JSON.stringify(e.target.value)));
    </script>
</body>
