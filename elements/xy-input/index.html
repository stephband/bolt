<!DOCTYPE html>
<!-- Literal template "/Users/stephband/Sites/bolt/elements/xy-input/index.html.literal" -->

<html lang="en">
<head>
    <meta charset="utf-8" />
<meta name="author" content="stephband" />
<meta name="description" content="Documentation for Bolt. A front-end toolkit of classes, evented behaviours and custom elements." />
<meta name="viewport" content="width=device-width" />


<meta name="twitter:card" content="summary">
<meta name="twitter:site" content="@stephband">
<meta property="og:url" content="http://stephen.band/bolt/" />
<meta property="og:title" content="Bolt" />
<meta property="og:description" content="A front-end toolkit of classes, evented behaviours and custom elements." />
<meta property="og:image" content="undefined" />


<title>Bolt</title>



<script title="load">
    document.documentElement.className += ' js loading';
    // window.addEventListener('DOMContentLoaded', () => document.documentElement.classList.remove('content-loading'));
    // Wait for other load handlers to run first - Bolt does a few things on
    // load (eg. targetable scrolls) and we want them to run before the loading
    // class is removed
    window.addEventListener('load', () => window.requestAnimationFrame(() => document.documentElement.classList.remove('loading')));
</script>


    <script title="debug">
        window.DEBUG = true;
    </script>
    
    <link rel="stylesheet" href="../../module.css">
    <link rel="stylesheet" href="../../documentation/prism-cruncher.css" />
<link rel="stylesheet" href="../../documentation.css" />
<link rel="stylesheet" href="../../debug.css" />


    <style></style>

    <template id="xy-input-shadow">
        <template id="x-tick">
            <label part="x-tick tick" style="transform: translate(calc(${ data.up.toViewX(data.tick.x) }em - 50%), 1.75em);">
                <span>${ data.tick.label }</span>
            </label>
        </template>

        <template id="y-tick">
            <label part="y-tick tick" style="transform: translate(-2.75em, calc(${ data.up.toViewY(data.tick.y) }em + 50%));">
                <span>${ data.tick.label }</span>
            </label>
        </template>

        <label>
            <slot></slot>
        </label>

        <svg viewbox="0 -1 1 1">
            <defs>
                <linearGradient id="handle-gradient" x1="0" x2="0" y1="0" y2="1">
                    <stop class="stop-1" offset="0%"/>
                    <stop class="stop-2" offset="100%"/>
                </linearGradient>

                <line part="${ data.part }" x1="${ data.x1 }" x2="${ data.x2 }" y1="${ data.y1 }"  y2="${ data.y2 }" id="line-def"></line>
                <circle part="handle" class="control control-handle control-point" cx="${ data.up.toViewX(data.point[0]) }" cy="${ data.up.toViewY(data.point[1]) }" r="0.5" data-index="${ data.index }" id="control-def"></circle>
            </defs>

            ${ data.yLines
            .filter((line) => data.valuebox.y + data.valuebox.height >= line.y && line.y >= data.valuebox.y)    
            .map((line) => include(this.node.getRootNode().getElementById('line-def'), {
                part: 'y-line line',
                x1: data.toViewX(data.valuebox.x),
                x2: data.toViewX(data.valuebox.x + data.valuebox.width),
                y1: data.toViewY(line.y),
                y2: data.toViewY(line.y)
            })) }

            ${ data.xLines
            .filter((line) => data.valuebox.x + data.valuebox.width >= line.x && line.x >= data.valuebox.x)     
            .map((line) => include(this.node.getRootNode().getElementById('line-def'), {
                part: 'x-line line',
                x1: data.toViewX(line.x),
                x2: data.toViewX(line.x),
                y1: data.toViewY(data.valuebox.y),
                y2: data.toViewY(data.valuebox.y + data.valuebox.height)
            })) }

            ${ data.points.map((point, index) => include(this.node.getRootNode().getElementById('control-def'), {
                up: data,
                point,
                index
            })) }
        </svg>

        ${ data.xTicks
        .filter((tick) => data.valuebox.x + data.valuebox.width >= tick.x && tick.x >= data.valuebox.x)
        .map((tick, index) => include(this.node.getRootNode().getElementById('x-tick'), { up: data, tick })) }

        ${ data.yTicks
        .filter((tick) => data.valuebox.y + data.valuebox.height >= tick.y && tick.y >= data.valuebox.y)   
        .map((tick, index) => include(this.node.getRootNode().getElementById('y-tick'), { up: data, tick })) }
    </template>
</head>

<body class="docs-grid grid 3x-grid @1-6x-grid @2-9x-grid">
    <nav class="x1 x-stretch y1 @2-x1 @2-1x">
        <a class="thumb thumb-1:1" width="400" height="400" style="background-image: url('../../images/logo.svg'); background-size: contain; width: 120%; padding-top: 120%; max-width: 6rem; margin-top: -16%; margin-left: -8%; margin-right: -12%;">Bolt</a>
    </nav>

    
<header class="x1 3x @1-x3 @1-4x @2-x4">
    
    <h2 class="doctext-02">&lt;xy-input&gt;</h2>
    <p>Import <code>&lt;xy-input&gt;</code> custom element. This also registers the custom 
element and upgrades instances already in the DOM.</p>
<pre><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>module<span class="token punctuation">"</span></span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>./module.js<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token script"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span><span class="token punctuation">></span></span><span class="token style"><span class="token language-css">
    <span class="token selector">xy-input</span> <span class="token punctuation">{</span>
        <span class="token property">width</span><span class="token punctuation">:</span> 100%<span class="token punctuation">;</span>
        <span class="token property">height</span><span class="token punctuation">:</span> 5rem<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">></span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>xy-input</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>points<span class="token punctuation">"</span></span> <span class="token attr-name">ymin</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>0.125<span class="token punctuation">"</span></span> <span class="token attr-name">ymax</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>8<span class="token punctuation">"</span></span> <span class="token attr-name">xmin</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>20<span class="token punctuation">"</span></span> <span class="token attr-name">xmax</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>20000<span class="token punctuation">"</span></span> <span class="token attr-name">xlaw</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>db-linear-60<span class="token punctuation">"</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>100 1 1000 0.5<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>xy-input</span><span class="token punctuation">></span></span></code></pre>

    
</header>

<form class="x1 3x @1-x1 @1-2x @2-x1 @2-3x x-stretch y-start">
    <script type="module" src="../../templates/module.js"></script>

<style>
    xy-input {
        width: 100%;
        height: 5rem;
    }
</style>

<xy-input name="points" ymin="0.125" ymax="8" xmin="20" xmax="20000" xlaw="db-linear-60" value="100 1 1000 0.5"></xy-input>
    <!-- for testing form submission values -->
    <input hidden class="button" type="submit" />
</form>

<div class="x1 3x @1-x3 @1-2x @2-x4 x-stretch y-start">
    
    <h3 class="doctext-03">Attributes</h3>
    
<div class="attribute-doc-toggle-block doc-toggle-block toggle-block block" data-toggleable id="attribute-xmin">
<h3 class="attribute-doctext-05 doctext-05">
    <a href="#attribute-xmin">
        <code class="token language-html">xmin <span class="default">="<em>0</em>"</span></code>
    </a>
</h3>

<p>Value at lower limit of fader. Can interpret values with recognised units,
eg. <code>&quot;0dB&quot;</code>.</p>

</div>

 
<div class="attribute-doc-toggle-block doc-toggle-block toggle-block block" data-toggleable id="attribute-xmax">
<h3 class="attribute-doctext-05 doctext-05">
    <a href="#attribute-xmax">
        <code class="token language-html">xmax <span class="default">="<em>1</em>"</span></code>
    </a>
</h3>

<p>Value at upper limit of fader. Can interpret values with recognised units,
eg. <code>&quot;0dB&quot;</code>.</p>

</div>

 
<div class="attribute-doc-toggle-block doc-toggle-block toggle-block block" data-toggleable id="attribute-xlaw">
<h3 class="attribute-doctext-05 doctext-05">
    <a href="#attribute-xlaw">
        <code class="token language-html">xlaw <span class="default">="<em>linear</em>"</span></code>
    </a>
</h3>

<p>Scale on the x axis. This is the name of a transform to be applied over the 
x domain of the fader travel. Possible values are:</p>
<ul>
<li><code>&quot;linear&quot;</code></li>
<li><code>&quot;quadratic&quot;</code></li>
<li><code>&quot;cubic&quot;</code></li>
<li><code>&quot;db-linear-24&quot;</code></li>
<li><code>&quot;db-linear-48&quot;</code></li>
<li><code>&quot;db-linear-60&quot;</code></li>
<li><code>&quot;db-linear-96&quot;</code></li>
<li><code>&quot;lin-24dB-log&quot;</code></li>
</ul>

</div>

 
<div class="attribute-doc-toggle-block doc-toggle-block toggle-block block" data-toggleable id="attribute-xstep">
<h3 class="attribute-doctext-05 doctext-05">
    <a href="#attribute-xstep">
        <code class="token language-html">xstep <span class="default">="<em>any</em>"</span></code>
    </a>
</h3>

<p>Not yet implemented.</p>

</div>

 
<div class="attribute-doc-toggle-block doc-toggle-block toggle-block block" data-toggleable id="attribute-xticks">
<h3 class="attribute-doctext-05 doctext-05">
    <a href="#attribute-xticks">
        <code class="token language-html">xticks</code>
    </a>
</h3>

<p>Not yet implemented.</p>

</div>

 
<div class="attribute-doc-toggle-block doc-toggle-block toggle-block block" data-toggleable id="attribute-ymin">
<h3 class="attribute-doctext-05 doctext-05">
    <a href="#attribute-ymin">
        <code class="token language-html">ymin <span class="default">="<em>0</em>"</span></code>
    </a>
</h3>

<p>Value at lower limit of fader. Can interpret values with recognised units,
eg. <code>&quot;0dB&quot;</code>.</p>

</div>

 
<div class="attribute-doc-toggle-block doc-toggle-block toggle-block block" data-toggleable id="attribute-ymax">
<h3 class="attribute-doctext-05 doctext-05">
    <a href="#attribute-ymax">
        <code class="token language-html">ymax <span class="default">="<em>1</em>"</span></code>
    </a>
</h3>

<p>Value at upper limit of fader. Can interpret values with recognised units,
eg. <code>&quot;0dB&quot;</code>.</p>

</div>

 
<div class="attribute-doc-toggle-block doc-toggle-block toggle-block block" data-toggleable id="attribute-ylaw">
<h3 class="attribute-doctext-05 doctext-05">
    <a href="#attribute-ylaw">
        <code class="token language-html">ylaw <span class="default">="<em>linear</em>"</span></code>
    </a>
</h3>

<p>Scale on the y axis. This is the name of a transform to be applied over the 
y range of the fader travel. Possible values are:</p>
<ul>
<li><code>&quot;linear&quot;</code></li>
<li><code>&quot;db-linear-24&quot;</code></li>
<li><code>&quot;db-linear-48&quot;</code></li>
<li><code>&quot;db-linear-60&quot;</code></li>
<li><code>&quot;db-linear-96&quot;</code></li>
<li><code>&quot;logarithmic&quot;</code></li>
<li><code>&quot;quadratic&quot;</code></li>
<li><code>&quot;cubic&quot;</code></li>
</ul>

</div>

 
<div class="attribute-doc-toggle-block doc-toggle-block toggle-block block" data-toggleable id="attribute-ystep">
<h3 class="attribute-doctext-05 doctext-05">
    <a href="#attribute-ystep">
        <code class="token language-html">ystep <span class="default">="<em>any</em>"</span></code>
    </a>
</h3>

<p>Either:</p>
<ul>
<li>A space separated list of values. Values may be listed with units.</li>
<li>The string <code>&quot;yticks&quot;</code>. Values in the <code>yticks</code> attribute are used as steps.</li>
</ul>

</div>

 
<div class="attribute-doc-toggle-block doc-toggle-block toggle-block block" data-toggleable id="attribute-yticks">
<h3 class="attribute-doctext-05 doctext-05">
    <a href="#attribute-yticks">
        <code class="token language-html">yticks</code>
    </a>
</h3>

<p>Not fully implemented.</p>
<p>A space separated list of values at which to display tick marks. Values
may be listed with or without units, eg:</p>
<pre><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>xy-input</span> <span class="token attr-name">yticks</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>0 0.2 0.4 0.6 0.8 1<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>xy-input</span> <span class="token attr-name">yticks</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>-48dB -36dB -24dB -12dB 0dB<span class="token punctuation">"</span></span><span class="token punctuation">></span></span></code></pre>

</div>

 
<div class="attribute-doc-toggle-block doc-toggle-block toggle-block block" data-toggleable id="attribute-valuebox">
<h3 class="attribute-doctext-05 doctext-05">
    <a href="#attribute-valuebox">
        <code class="token language-html">valuebox</code>
    </a>
</h3>

<p>Defines an <code>&quot;x y width height&quot;</code> box to use as the range of values that 
map to the padding box of the <code>&lt;xy-input&gt;</code>. The origin is at the 
bottom and y increases upwards.</p>
<p>Where not given, valuebox is internally set to the limits of <code>min</code> 
and <code>max</code>. Most often this is what you want, and the valuebox attribute
is safe to ignore.</p>

</div>

 
<div class="attribute-doc-toggle-block doc-toggle-block toggle-block block" data-toggleable id="attribute-ordered">
<h3 class="attribute-doctext-05 doctext-05">
    <a href="#attribute-ordered">
        <code class="token language-html">ordered</code>
    </a>
</h3>

<p>Boolean attribute. When set, data points may not overlap their 
neighbours, keeping the order of points on the x axis constant.</p>

</div>

 
<div class="attribute-doc-toggle-block doc-toggle-block toggle-block block" data-toggleable id="attribute-value">
<h3 class="attribute-doctext-05 doctext-05">
    <a href="#attribute-value">
        <code class="token language-html">value</code>
    </a>
</h3>

<p>The initial value of the element.</p>

</div>

 

    
    
    

    
    <h3 class="doctext-03">Properties</h3>
    
<div class="property-doc-toggle-block doc-toggle-block toggle-block block" data-toggleable id="property|selector-xmin">
<h3 class="property-doctext-05 doctext-05">
    <a href="#property|selector-xmin">
        <code class="property language-js">.xmin</code>
    </a>
</h3>

<p>Value at lower limit of fader. Can interpret values with recognised units,
eg. <code>&quot;0dB&quot;</code>.</p>

</div>

 
<div class="property-doc-toggle-block doc-toggle-block toggle-block block" data-toggleable id="property|selector-xmax">
<h3 class="property-doctext-05 doctext-05">
    <a href="#property|selector-xmax">
        <code class="property language-js">.xmax</code>
    </a>
</h3>

<p>Value at upper limit of fader. Can interpret values with recognised units,
eg. <code>&quot;0dB&quot;</code>.</p>

</div>

 
<div class="property-doc-toggle-block doc-toggle-block toggle-block block" data-toggleable id="property|selector-ymin">
<h3 class="property-doctext-05 doctext-05">
    <a href="#property|selector-ymin">
        <code class="property language-js">.ymin</code>
    </a>
</h3>

<p>Value at lower limit of fader. Can interpret values with recognised units,
eg. <code>&quot;0dB&quot;</code>.</p>

</div>

 
<div class="property-doc-toggle-block doc-toggle-block toggle-block block" data-toggleable id="property|selector-ymax">
<h3 class="property-doctext-05 doctext-05">
    <a href="#property|selector-ymax">
        <code class="property language-js">.ymax</code>
    </a>
</h3>

<p>Value at upper limit of fader. Can interpret values with recognised units,
eg. <code>&quot;0dB&quot;</code>.</p>

</div>

 
<div class="property-doc-toggle-block doc-toggle-block toggle-block block" data-toggleable id="property|selector-value">
<h3 class="property-doctext-05 doctext-05">
    <a href="#property|selector-value">
        <code class="property language-js">.value</code>
    </a>
</h3>

<p>The value of the element.</p>

</div>

 
    
    
    <h3 class="doctext-03">Events</h3>
    
<div class="string-doc-toggle-block doc-toggle-block toggle-block block" data-toggleable id="string-input">
<h3 class="string-doctext-05 doctext-05">
    <a href="#string-input">
        <code class=" language-js">"input"</code>
    </a>
</h3>

<p>Event sent when one of the handles moves.</p>

</div>

 
<div class="string-doc-toggle-block doc-toggle-block toggle-block block" data-toggleable id="string-change">
<h3 class="string-doctext-05 doctext-05">
    <a href="#string-change">
        <code class=" language-js">"change"</code>
    </a>
</h3>

<p>Event sent on conclusion of a move (and after formdata is updated).</p>

</div>

 
</div>

<div class="x1 3x @1-x5 @1-2x @2-x6 x-stretch y-start">
    
    
    

    
    
    
</div>


    <script type="module" src="./module.js"></script>

    <script type="module">
    import '../../module.js';
    import '../../documentation.js';
</script>
    
    <script type="module">
    // Log events
    import events from '../../../dom/modules/events.js';
    events('input change', document)
    .each((e) => console.log(e.type, JSON.stringify(e.target.value)));
    </script>
</body>
